// Scripts optimizados para landing_anfitrionas_peru.html
// Lazy loading observer para imágenes
if('IntersectionObserver' in window){const i=new IntersectionObserver((e,o)=>{e.forEach(t=>{if(t.isIntersecting){const e=t.target;e.src=e.dataset.src,e.classList.remove('lazy'),o.unobserve(e)}})});document.querySelectorAll('img.lazy').forEach(e=>{i.observe(e)})}

// Smooth scroll para enlaces internos
document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener('click',function(e){e.preventDefault();const t=this.getAttribute('href');if(t&&'#'!==t){const e=document.querySelector(t);e&&e.scrollIntoView({behavior:'smooth',block:'start'})}})});

// Animación de elementos al scroll
const o=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add('animate-fade-in'),o.unobserve(e.target))})},{threshold:.1});document.querySelectorAll('.animate-on-scroll').forEach(e=>{o.observe(e)});

// Precarga de recursos críticos
const preloadResources=()=>{const links=[{rel:'preconnect',href:'https://cdn.tailwindcss.com'},{rel:'preconnect',href:'https://fonts.googleapis.com'},{rel:'preconnect',href:'https://fonts.gstatic.com',crossorigin:true}];links.forEach(l=>{const link=document.createElement('link');Object.entries(l).forEach(([k,v])=>{if(v===true)link.setAttribute(k,'');else link.setAttribute(k,v)});document.head.appendChild(link)})};preloadResources();

// Optimización de eventos de scroll
let ticking=false;window.addEventListener('scroll',()=>{if(!ticking){window.requestAnimationFrame(()=>{ticking=false})};ticking=true},false);
